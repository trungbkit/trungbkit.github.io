{"version":3,"sources":["components/shared-components/soldier.js","components/shared-components/notification/item.js","components/shared-components/notification/index.js","components/pages/loading-screen.js","utils/keyGenerator.js","models/notification.js","components/pages/main.js","utils/history.js","router.js","stores/index.js","stores/users.js","stores/notification.js","App.js","serviceWorker.js","index.js"],"names":["Soldier","_ref","type","quantity","onClick","isSmall","_ref$showNumber","showNumber","_ref$animate","animate","react_default","a","createElement","className","concat","NotificationItem","notification","remove","title","message","src","alt","inject","observer","notificationStore","notifications","map","n","item","key","id","LoadingScreen","progress","style","width","i","keyGen","Notification","Object","classCallCheck","this","SHOP_ITEMS","soldiers","price","obstacles","Main","props","_this","possibleConstructorReturn","getPrototypeOf","call","onAttackModalClosed","userStore","setState","showAttackModal","selectedSoldiers","Array","fill","freeSoldiers","onShopModalClosed","showShopModal","saveObstacles","push","attack","state","loaded","selectedObstacles","freeObstacles","nextProps","prevState","_nextProps$userStore","from","list","index","length","newList","toConsumableArray","_this$state","findIndex","obs","newFreeObstacles","removeItem","_this$state2","newSelectedObstacles","_this$state3","sol","newFreeSoldiers","objectSpread","_this$state4","removedSol","s","newI","newSelectedSoldiers","reduce","prev","curr","arguments","undefined","soldier","_this2","_this$state5","backgroundImage","backgroundColor","currentHealth","renderObstacleList","removeObstacle","selectObstacle","renderSoldierList","index_es","open","onClose","center","selectSoldier","removeSoldier","placeholder","classNames","modal","o","React","Component","createBrowserHistory","CONDITION","MyRouter","finishProgress","setTimeout","checkStatus","initProgress","Router","history","Switch","Route","path","component","exact","render","Redirect","to","loading_screen","stores","action","bound","username","address","observable","computed","_notification","filter","configure","enforceActions","App","index_module","Fragment","router","shared_components_notification","Boolean","window","location","hostname","match","root","document","getElementById","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"4OAoBeA,EAjBC,SAAAC,GAAA,IACdC,EADcD,EACdC,KAAMC,EADQF,EACRE,SAAUC,EADFH,EACEG,QAASC,EADXJ,EACWI,QADXC,EAAAL,EACoBM,kBADpB,IAAAD,KAAAE,EAAAP,EACuCQ,eADvC,IAAAD,KAAA,OAGdE,EAAAC,EAAAC,cAAA,OAAKC,UAAS,WAAAC,OAAaZ,EAAb,KAAAY,OAAqBT,EAAU,OAAS,GAAxC,KAAAS,OAA8CL,EAAU,UAAY,IAAML,QAAS,kBAAMA,MACpGG,EAAaG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYV,GAAkB,OCwBhDY,EAzBU,SAAAd,GAA8B,IAA3Be,EAA2Bf,EAA3Be,aAAcC,EAAahB,EAAbgB,OAEtCC,EACEF,EADFE,MAAOC,EACLH,EADKG,QAASjB,EACdc,EADcd,KAElB,OACEQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKQ,IAAc,YAATlB,EAVA,2BADD,0BAWgDmB,IAAI,YAC7DX,EAAAC,EAAAC,cAAA,YAAOM,IAETR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQT,QAASa,GAAhC,SAIFP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWM,KCJjBG,cAAO,oBAAPA,CAA4BC,YAZtB,SAAAtB,GAAA,IAAGuB,EAAHvB,EAAGuB,kBAAH,OACnBd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACZW,EAAkBC,cAAcC,IAAI,SAAAC,GAAC,OACpCjB,EAAAC,EAAAC,cAACgB,EAAD,CAAkBZ,aAAcW,EAAGE,IAAKF,EAAEG,GAAIb,OAAQ,kBAAMO,EAAkBP,OAAOU,EAAEG,mFCU9EC,EAfO,SAAA9B,GAAA,IAAG+B,EAAH/B,EAAG+B,SAAH,OACpBtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAf,eAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASoB,MAAO,CAAEC,MAAkB,IAAXF,gCCT1CG,EAAI,EAOOC,EALA,WAEb,OADAD,GAAK,GCHcE,EACnB,SAAAA,EAAYP,EAAIZ,EAAOC,EAASjB,GAAOoC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GACrCG,KAAKV,GAAKA,EACVU,KAAKtB,MAAQA,EACbsB,KAAKrB,QAAUA,EACfqB,KAAKtC,KAAOA,GCGVuC,EAAa,CACjBC,SAAU,CACR,CACEZ,GAAI,EACJ5B,KAAM,OACNyC,MAAO,IAET,CACEb,GAAI,EACJ5B,KAAM,QACNyC,MAAO,IAET,CACEb,GAAI,EACJ5B,KAAM,OACNyC,MAAO,IAET,CACEb,GAAI,EACJ5B,KAAM,QACNyC,MAAO,IAET,CACEb,GAAI,EACJ5B,KAAM,QACNyC,MAAO,KAGXC,UAAW,CACT,CACEd,GAAI,EACJ5B,KAAM,OACNyC,MAAO,KAET,CACEb,GAAI,EACJ5B,KAAM,QACNyC,MAAO,KAET,CACEb,GAAI,EACJ5B,KAAM,OACNyC,MAAO,KAET,CACEb,GAAI,EACJ5B,KAAM,QACNyC,MAAO,KAET,CACEb,GAAI,GACJ5B,KAAM,QACNyC,MAAO,OAqREE,EAhRdvB,YAAO,YAAa,uBACpBC,0BAcC,SAAAsB,EAAYC,GAAO,IAAAC,EAAA,OAAAT,OAAAC,EAAA,EAAAD,CAAAE,KAAAK,IACjBE,EAAAT,OAAAU,EAAA,EAAAV,CAAAE,KAAAF,OAAAW,EAAA,EAAAX,CAAAO,GAAAK,KAAAV,KAAMM,KAaRK,oBAAsB,WAAM,IAClBC,EAAcL,EAAKD,MAAnBM,UACRL,EAAKM,SAAS,CACZC,iBAAiB,EACjBC,iBAAkB,IAAIC,MAAM,GAAGC,KAAK,MACpCC,aAAcN,EAAUV,YAnBTK,EAuBnBY,kBAAoB,WAClBZ,EAAKM,SAAS,CACZO,eAAe,KAzBAb,EA6BnBc,cAAgB,WACgBd,EAAKD,MAA3BtB,kBACUsC,KAChB,IAAIzB,EAAaD,IAAU,iBAAkB,sBAAuB,aAhCrDW,EAoCnBgB,OAAS,WACuBhB,EAAKD,MAA3BtB,kBACUsC,KAAK,IAAIzB,EAAaD,IAAU,SAAU,WAAY,aAnCxEW,EAAKiB,MAAQ,CACXC,QAAQ,EACRV,iBAAkB,IAAIC,MAAM,GAAGC,KAAK,MACpCS,kBAAmB,IAAIV,MAAM,GAAGC,KAAK,MACrCU,cAAe,GACfT,aAAc,GACdJ,iBAAiB,EACjBM,eAAe,GAVAb,6FAZaqB,EAAWC,GAAW,IAAAC,EACpBF,EAAUhB,UAAlCV,EAD4C4B,EAC5C5B,SAAUE,EADkC0B,EAClC1B,UAClB,OAAKyB,EAAUJ,OAOR,KANE,CACLA,QAAQ,EACRE,cAAeX,MAAMe,KAAK3B,GAC1Bc,aAAcF,MAAMe,KAAK7B,wDA+CpB8B,EAAMC,GAGf,IAHsB,IACdC,EAAWF,EAAXE,OACFC,EAAOrC,OAAAsC,EAAA,EAAAtC,CAAOkC,GACXrC,EAAIsC,EAAOtC,EAAIuC,EAAQvC,GAAK,EACnCwC,EAAQxC,GAAKwC,EAAQxC,EAAI,IAAM,KAEjC,OAAOwC,yCAGMF,GAAO,IAAAI,EACyBrC,KAAKwB,MAA1CE,EADYW,EACZX,kBAAmBC,EADPU,EACOV,cAC3B,IAAKD,EAAkB,GAAI,CACzB,IAAM/B,EAAI+B,EAAkBY,UAAU,SAAAC,GAAG,OAAKA,IAC9Cb,EAAkB/B,GAAKgC,EAAcM,GACrC,IAAMO,EAAmBxC,KAAKyC,WAAWd,EAAeM,GACxDjC,KAAKa,SAAS,CAAEa,oBAAmBC,cAAea,4CAIvCP,GAAO,IAAAS,EACyB1C,KAAKwB,MAA1CE,EADYgB,EACZhB,kBAAmBC,EADPe,EACOf,cACrBhC,EAAIgC,EAAcW,UAAU,SAAAC,GAAG,OAAKA,IAC1CZ,EAAchC,GAAK+B,EAAkBO,GACrC,IAAMU,EAAuB3C,KAAKyC,WAAWf,EAAmBO,GAChEjC,KAAKa,SAAS,CAAEa,kBAAmBiB,EAAsBhB,wDAG7CM,GAAO,IAAAW,EACwB5C,KAAKwB,MAAxCT,EADW6B,EACX7B,iBAAkBG,EADP0B,EACO1B,aAC1B,IAAKH,EAAiB,GAAI,CACxB,IAAMpB,EAAIoB,EAAiBuB,UAAU,SAAAO,GAAG,OAAKA,IAC7C9B,EAAiBpB,GAAKuB,EAAae,GACnC,IAAIa,EAAehD,OAAAsC,EAAA,EAAAtC,CAAOoB,GACpB2B,EAAMC,EAAgBb,GAC5Ba,EAAgBb,GAAhBnC,OAAAiD,EAAA,EAAAjD,CAAA,GAA8B+C,EAA9B,CAAmClF,SAAUkF,EAAIlF,SAAW,IACvDmF,EAAgBb,GAAOtE,WAC1BmF,EAAkB9C,KAAKyC,WAAWK,EAAiBb,IAErDjC,KAAKa,SAAS,CAAEE,mBAAkBG,aAAc4B,2CAItCb,GAAO,IAAAe,EACwBhD,KAAKwB,MAAxCT,EADWiC,EACXjC,iBAAkBG,EADP8B,EACO9B,aACpB+B,EAAalC,EAAiBkB,GAC9Ba,EAAehD,OAAAsC,EAAA,EAAAtC,CAAOoB,GACtBvB,EAAImD,EAAgBR,UAAU,SAAAY,GAAC,OAAIA,GAAKA,EAAExF,OAASuF,EAAWvF,OACpE,IAAW,IAAPiC,EAAU,CACZ,IAAMkD,EAAMC,EAAgBnD,GAC5BmD,EAAgBnD,GAAhBG,OAAAiD,EAAA,EAAAjD,CAAA,GAA0B+C,EAA1B,CAA+BlF,SAAUkF,EAAIlF,SAAW,QACnD,CACL,IAAMwF,EAAOL,EAAgBR,UAAU,SAAAY,GAAC,OAAKA,IAC7CJ,EAAgBK,GAAhBrD,OAAAiD,EAAA,EAAAjD,CAAA,GAA6BmD,EAA7B,CAAyCtF,SAAU,IAErD,IAAMyF,EAAsBpD,KAAKyC,WAAW1B,EAAkBkB,GAC9DjC,KAAKa,SAAS,CAAEE,iBAAkBqC,EAAqBlC,aAAc4B,4CAMrE,OAF8B9C,KAAKwB,MAA3BE,kBACsB2B,OAAO,SAACC,EAAMC,GAAP,OAAiBA,EAAOD,EAAO,GAAKA,GAAO,8CAI/DtB,EAAMpE,GACvB,OAAOoE,EAAK9C,IACV,SAACqD,EAAKN,GAAN,OAAiBM,EACfrE,EAAAC,EAAAC,cAAA,OAAKC,UAAS,YAAAC,OAAciE,GAAO3E,QAAS,kBAAMA,EAAQqE,IAAQ5C,IAAKO,MAEvE1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAagB,IAAKO,KAC9BqC,EAAQ,+CAMCD,EAAMpE,EAASC,GAA6C,IAApCE,IAAoCyF,UAAAtB,OAAA,QAAAuB,IAAAD,UAAA,KAAAA,UAAA,GAAjBvF,EAAiBuF,UAAAtB,OAAA,QAAAuB,IAAAD,UAAA,IAAAA,UAAA,GAC5E,OAAKxB,EAGEA,EAAK9C,IACV,SAAC2D,EAAKZ,GAAN,OAAiBY,EACf3E,EAAAC,EAAAC,cAACsF,EAAD,CACErE,IAAKO,IACLhC,QAAS,kBAAMA,GAAWA,EAAQqE,IAClCvE,KAAMmF,EAAInF,KACVG,QAASA,EACTF,SAAUkF,EAAIlF,SACdI,WAAYA,EACZE,QAASA,IAGXC,EAAAC,EAAAC,cAAA,OAAKC,UAAS,cAAAC,OAAgBT,EAAU,OAAS,IAAMwB,IAAKO,KACxD/B,EAAsB,GAAZoE,EAAQ,KAfjB,sCAqBF,IAAA0B,EAAA3D,KAAA4D,EAQH5D,KAAKwB,MANPN,EAFK0C,EAEL1C,aACAH,EAHK6C,EAGL7C,iBACAY,EAJKiC,EAILjC,cACAD,EALKkC,EAKLlC,kBACAZ,EANK8C,EAML9C,gBACAM,EAPKwC,EAOLxC,cAEMR,EAAcZ,KAAKM,MAAnBM,UACR,OACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,WAASC,UAAU,qEACjBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,eACVoB,MAAO,CAAEoE,gBAAiB,kCAE5B3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKqB,MAAO,CAAEqE,gBAAiB,UAAWpE,MAAK,GAAApB,OAAK0B,KAAK+D,gBAAV,SAEjD7F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAf,gBAGJH,EAAAC,EAAAC,cAAA,OACEC,UAAU,MACVO,IAAI,4BACJhB,QAAS,kBAAM+F,EAAK9C,SAAS,CAAEO,eAAe,KAC9CvC,IAAI,SAGRX,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,YACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ2B,KAAKgE,mBAAmBtC,EAAmB,SAAA/B,GAAC,OAAIgE,EAAKM,eAAetE,MAEvEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8DACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBT,QAASoC,KAAKqB,eAAjD,UAKJnD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,kBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ2B,KAAKgE,mBAAmBrC,EAAe,SAAAhC,GAAC,OAAIgE,EAAKO,eAAevE,OAGrEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,cACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAa2B,KAAKmE,kBAAkBvD,EAAUV,WAC7DhC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2CACbH,EAAAC,EAAAC,cAAA,UACEC,UAAU,iBACVT,QAAS,kBAAM+F,EAAK9C,SAAS,CAAEC,iBAAiB,MAFlD,aASN5C,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAOC,KAAMvD,EAAiBwD,QAAStE,KAAKW,oBAAqB4D,QAAM,GACrErG,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ2B,KAAKmE,kBAAkBjD,EAAc,SAAAvB,GAAC,OAAIgE,EAAKa,cAAc7E,KAAI,IAEpEzB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACZ2B,KAAKmE,kBACJpD,EACA,SAAApB,GAAC,OAAIgE,EAAKc,cAAc9E,KACxB,GACA,GACA,IAGJzB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOV,KAAK,OAAOW,UAAU,WAAWqG,YAAY,oBAEtDxG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sCACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,YAAYT,QAASoC,KAAKuB,QAA5C,kBAKJrD,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CACEC,KAAMjD,EACNkD,QAAStE,KAAKmB,kBACdwD,WAAY,CAAEC,MAAO,eAErB1G,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZ4B,EAAWC,SAAShB,IAAI,SAAAgE,GAAC,OACxBhF,EAAAC,EAAAC,cAAA,OAAKiB,IAAK6D,EAAE5D,GAAIjB,UAAU,aACxBH,EAAAC,EAAAC,cAACsF,EAAD,CAAShG,KAAMwF,EAAExF,KAAMK,YAAY,EAAOE,SAAS,IACnDC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAS6E,EAAE/C,MAA1B,WAGHF,EAAWG,UAAUlB,IAAI,SAAA2F,GAAC,OACzB3G,EAAAC,EAAAC,cAAA,OAAKiB,IAAKwF,EAAEvF,GAAIjB,UAAU,aACxBH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,YAAAC,OAAcuG,EAAEnH,MAAQE,QAAS,aAAUyB,IAAKO,MAC9D1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAASwG,EAAE1E,MAA1B,qBA/PG2E,IAAMC,2BCjEVC,gBCKTC,GAAY,EAwDHC,cArDb,SAAAA,EAAY5E,GAAO,IAAAC,EAAA,OAAAT,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,IACjB3E,EAAAT,OAAAU,EAAA,EAAAV,CAAAE,KAAAF,OAAAW,EAAA,EAAAX,CAAAoF,GAAAxE,KAAAV,KAAMM,KAWR6E,eAAiB,WAAM,IACb3F,EAAae,EAAKiB,MAAlBhC,SACJA,GAAY,KAGhBe,EAAKM,SAAS,CAAErB,SAAUA,EAAW,KACrC4F,WAAW7E,EAAK4E,eAAgB,OAlBf5E,EAqBnB8E,YAAc,WACZ,GAAIJ,EACF,OAAO1E,EAAK4E,iBAEdC,WAAW7E,EAAK8E,YAAa,MAzBZ9E,EA4BnB+E,aAAe,WAAM,IACX9F,EAAae,EAAKiB,MAAlBhC,SACJA,GAAY,GACde,EAAK8E,eAGP9E,EAAKM,SAAS,CAAErB,SAAUA,EAAW,KACrC4F,WAAW7E,EAAK+E,aAAc,OAhC9B/E,EAAKiB,MAAQ,CACXhC,SAAU,GAJKe,mFAQC,IAAAoD,EAAA3D,KAClBoF,WAAW,kBAAMzB,EAAK2B,gBAAgB,sCA6B/B,IACC9F,EAAaQ,KAAKwB,MAAlBhC,SACR,OAAOA,GAAY,GACjBtB,EAAAC,EAAAC,cAACmH,EAAA,EAAD,CAAQC,QAASA,GACftH,EAAAC,EAAAC,cAACqH,EAAA,EAAD,KACEvH,EAAAC,EAAAC,cAACsH,EAAA,EAAD,CAAOC,KAAK,QAAQC,UAAWvF,IAC/BnC,EAAAC,EAAAC,cAACsH,EAAA,EAAD,CAAOC,KAAK,IAAIE,OAAO,EAAMC,OAAQ,kBAAM5H,EAAAC,EAAAC,cAAC2H,EAAA,EAAD,CAAUC,GAAG,eAI5D9H,EAAAC,EAAAC,cAAC6H,EAAD,CAAezG,SAAUA,WAjDRsF,IAAMC,0BCNdmB,SAAA,CAAEtF,UC+DF,MAjBZuF,IAAOC,sRACA9G,EAAI+G,EAAUC,EAASlG,GACzBd,IACFU,KAAKV,GAAKA,GAER+G,IACFrG,KAAKqG,SAAWA,GAEdC,IACFtG,KAAKsG,QAAUA,GAEblG,IACFJ,KAAKI,UAAYA,yCAfnB,OAAOJ,KAAKI,UAAU8B,gDA3CvBqE,8EACI,8CAEJA,6EACU,qDAEVA,8EACS,+CAETA,6EACW,CAAC,OAAQ,QAAS,OAAQ,QAAS,kDAE9CA,6EACU,CACT,CACEjH,GAAI,EACJ5B,KAAM,QACNC,SAAU,GAEZ,CACE2B,GAAI,EACJ5B,KAAM,OACNC,SAAU,GAEZ,CACE2B,GAAI,EACJ5B,KAAM,QACNC,SAAU,GAEZ,CACE2B,GAAI,EACJ5B,KAAM,OACNC,SAAU,GAEZ,CACE2B,GAAI,EACJ5B,KAAM,QACNC,SAAU,gDAIb6I,4LDzCyBxH,kBEeb,MAZZmH,IAAOC,QAMPD,IAAOC,8IALHK,GAAe,IAAAlG,EAAAP,KAClBA,KAAKf,cAAcqC,KAAKmF,GACxBrB,WAAW,kBAAM7E,EAAK9B,OAAOgI,EAAcnH,KAAK,oCAI3CA,GACLU,KAAKf,cAAgBe,KAAKf,cAAcyH,OAAO,SAAAvH,GAAC,OAAIA,EAAEG,KAAOA,wDAX9DiH,6EACe,uNCGlBI,YAAU,CAAEC,eAAgB,aAE5B,IASeC,EATH,kBACV3I,EAAAC,EAAAC,cAAC0I,EAAA,EAAaZ,EACZhI,EAAAC,EAAAC,cAACF,EAAAC,EAAM4I,SAAP,KACE7I,EAAAC,EAAAC,cAAC4I,EAAD,MACA9I,EAAAC,EAAAC,cAAC6I,EAAD,SCDcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZN,IAAMC,EAAOC,SAASC,eAAe,QAErCC,IAAS5B,OAAO5H,EAAAC,EAAAC,cAACuJ,EAAD,MAASJ,GDqHnB,kBAAmBK,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.796ca042.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Soldier = ({\n  type, quantity, onClick, isSmall, showNumber = true, animate = false,\n}) => (\n  <div className={`soldier ${type} ${isSmall ? 'mini' : ''} ${animate ? 'animate' : ''}`} onClick={() => onClick()}>\n    {showNumber ? <div className=\"quantity\">{quantity}</div> : null}\n  </div>\n);\n\nSoldier.propTypes = {\n  type: PropTypes.string,\n  quantity: PropTypes.number,\n  onClick: PropTypes.func,\n  isSmall: PropTypes.bool,\n  showNumber: PropTypes.bool,\n  animate: PropTypes.bool,\n};\n\nexport default Soldier;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst dangerIcon = '/images/danger-icon.svg';\nconst successIcon = '/images/success-icon.svg';\n\nconst NotificationItem = ({ notification, remove }) => {\n  const {\n    title, message, type,\n  } = notification;\n  return (\n    <div className=\"notification-item\">\n      <div className=\"title-container\">\n        <div className=\"title-wrapper\">\n          <img src={type === 'success' ? successIcon : dangerIcon} alt=\"success\" />\n          <span>{title}</span>\n        </div>\n        <div className=\"close\" onClick={remove}>\n          ×\n        </div>\n      </div>\n      <div className=\"message\">{message}</div>\n    </div>\n  );\n};\n\nNotificationItem.propTypes = {\n  notification: PropTypes.instanceOf(Object),\n  remove: PropTypes.func,\n};\n\nexport default NotificationItem;\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\nimport NotificationItem from './item';\n\nconst Notification = ({ notificationStore }) => (\n  <div className=\"notification-frame\">\n    {notificationStore.notifications.map(n => (\n      <NotificationItem notification={n} key={n.id} remove={() => notificationStore.remove(n.id)} />\n    ))}\n  </div>\n);\n\nNotification.propTypes = {\n  notificationStore: PropTypes.instanceOf(Object),\n};\n\nexport default inject('notificationStore')(observer(Notification));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst LoadingScreen = ({ progress }) => (\n  <div className=\"loading-screen\">\n    <div className=\"logo\">\n      <div className=\"text\">Loading...</div>\n    </div>\n    <div className=\"progress-bar\">\n      <div className=\"filler\" style={{ width: progress * 300 }} />\n    </div>\n  </div>\n);\n\nLoadingScreen.propTypes = {\n  progress: PropTypes.number,\n};\n\nexport default LoadingScreen;\n","let i = 1;\n\nconst keyGen = () => {\n  i += 1;\n  return i;\n};\n\nexport default keyGen;\n","export default class Notification {\n  constructor(id, title, message, type) {\n    this.id = id;\n    this.title = title;\n    this.message = message;\n    this.type = type;\n  }\n}\n","import React from 'react';\nimport Modal from 'react-responsive-modal';\nimport { observer, inject } from 'mobx-react';\nimport PropTypes from 'prop-types';\nimport { Soldier } from '../shared-components';\nimport keyGen from '../../utils/keyGenerator';\nimport Notification from '../../models/notification';\n\nconst SHOP_ITEMS = {\n  soldiers: [\n    {\n      id: 1,\n      type: 'fire',\n      price: 0.1,\n    },\n    {\n      id: 2,\n      type: 'water',\n      price: 0.1,\n    },\n    {\n      id: 3,\n      type: 'wood',\n      price: 0.1,\n    },\n    {\n      id: 4,\n      type: 'metal',\n      price: 0.1,\n    },\n    {\n      id: 5,\n      type: 'earth',\n      price: 0.1,\n    },\n  ],\n  obstacles: [\n    {\n      id: 6,\n      type: 'fire',\n      price: 0.05,\n    },\n    {\n      id: 7,\n      type: 'water',\n      price: 0.05,\n    },\n    {\n      id: 8,\n      type: 'wood',\n      price: 0.05,\n    },\n    {\n      id: 9,\n      type: 'metal',\n      price: 0.05,\n    },\n    {\n      id: 10,\n      type: 'earth',\n      price: 0.05,\n    },\n  ],\n};\n\n@inject('userStore', 'notificationStore')\n@observer\nclass Main extends React.Component {\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { soldiers, obstacles } = nextProps.userStore;\n    if (!prevState.loaded) {\n      return {\n        loaded: true,\n        freeObstacles: Array.from(obstacles),\n        freeSoldiers: Array.from(soldiers),\n      };\n    }\n    return null;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loaded: false,\n      selectedSoldiers: new Array(5).fill(null),\n      selectedObstacles: new Array(5).fill(null),\n      freeObstacles: [],\n      freeSoldiers: [],\n      showAttackModal: false,\n      showShopModal: false,\n    };\n  }\n\n  onAttackModalClosed = () => {\n    const { userStore } = this.props;\n    this.setState({\n      showAttackModal: false,\n      selectedSoldiers: new Array(5).fill(null),\n      freeSoldiers: userStore.soldiers,\n    });\n  };\n\n  onShopModalClosed = () => {\n    this.setState({\n      showShopModal: false,\n    });\n  };\n\n  saveObstacles = () => {\n    const { notificationStore } = this.props;\n    notificationStore.push(\n      new Notification(keyGen(), 'Save obstacles', 'Saved successful!!!', 'success')\n    );\n  };\n\n  attack = () => {\n    const { notificationStore } = this.props;\n    notificationStore.push(new Notification(keyGen(), 'Attack', 'Attacked', 'success'));\n  };\n\n  removeItem(list, index) {\n    const { length } = list;\n    const newList = [...list];\n    for (let i = index; i < length; i += 1) {\n      newList[i] = newList[i + 1] || null;\n    }\n    return newList;\n  }\n\n  selectObstacle(index) {\n    const { selectedObstacles, freeObstacles } = this.state;\n    if (!selectedObstacles[4]) {\n      const i = selectedObstacles.findIndex(obs => !obs);\n      selectedObstacles[i] = freeObstacles[index];\n      const newFreeObstacles = this.removeItem(freeObstacles, index);\n      this.setState({ selectedObstacles, freeObstacles: newFreeObstacles });\n    }\n  }\n\n  removeObstacle(index) {\n    const { selectedObstacles, freeObstacles } = this.state;\n    const i = freeObstacles.findIndex(obs => !obs);\n    freeObstacles[i] = selectedObstacles[index];\n    const newSelectedObstacles = this.removeItem(selectedObstacles, index);\n    this.setState({ selectedObstacles: newSelectedObstacles, freeObstacles });\n  }\n\n  selectSoldier(index) {\n    const { selectedSoldiers, freeSoldiers } = this.state;\n    if (!selectedSoldiers[4]) {\n      const i = selectedSoldiers.findIndex(sol => !sol);\n      selectedSoldiers[i] = freeSoldiers[index];\n      let newFreeSoldiers = [...freeSoldiers];\n      const sol = newFreeSoldiers[index];\n      newFreeSoldiers[index] = { ...sol, quantity: sol.quantity - 1 };\n      if (!newFreeSoldiers[index].quantity) {\n        newFreeSoldiers = this.removeItem(newFreeSoldiers, index);\n      }\n      this.setState({ selectedSoldiers, freeSoldiers: newFreeSoldiers });\n    }\n  }\n\n  removeSoldier(index) {\n    const { selectedSoldiers, freeSoldiers } = this.state;\n    const removedSol = selectedSoldiers[index];\n    const newFreeSoldiers = [...freeSoldiers];\n    const i = newFreeSoldiers.findIndex(s => s && s.type === removedSol.type);\n    if (i !== -1) {\n      const sol = newFreeSoldiers[i];\n      newFreeSoldiers[i] = { ...sol, quantity: sol.quantity + 1 };\n    } else {\n      const newI = newFreeSoldiers.findIndex(s => !s);\n      newFreeSoldiers[newI] = { ...removedSol, quantity: 1 };\n    }\n    const newSelectedSoldiers = this.removeItem(selectedSoldiers, index);\n    this.setState({ selectedSoldiers: newSelectedSoldiers, freeSoldiers: newFreeSoldiers });\n  }\n\n  currentHealth() {\n    const { selectedObstacles } = this.state;\n    const res = selectedObstacles.reduce((prev, curr) => (curr ? prev + 20 : prev), 0);\n    return res;\n  }\n\n  renderObstacleList(list, onClick) {\n    return list.map(\n      (obs, index) => (obs ? (\n        <div className={`obstacle ${obs}`} onClick={() => onClick(index)} key={keyGen()} />\n      ) : (\n        <div className=\"empty-item\" key={keyGen()}>\n          {index + 1}\n        </div>\n      ))\n    );\n  }\n\n  renderSoldierList(list, onClick, isSmall, showNumber = true, animate = false) {\n    if (!list) {\n      return null;\n    }\n    return list.map(\n      (sol, index) => (sol ? (\n        <Soldier\n          key={keyGen()}\n          onClick={() => onClick && onClick(index)}\n          type={sol.type}\n          isSmall={isSmall}\n          quantity={sol.quantity}\n          showNumber={showNumber}\n          animate={animate}\n        />\n      ) : (\n        <div className={`empty-item ${isSmall ? 'mini' : ''}`} key={keyGen()}>\n          {!isSmall ? index + 1 : ''}\n        </div>\n      ))\n    );\n  }\n\n  render() {\n    const {\n      freeSoldiers,\n      selectedSoldiers,\n      freeObstacles,\n      selectedObstacles,\n      showAttackModal,\n      showShopModal,\n    } = this.state;\n    const { userStore } = this.props;\n    return (\n      <div className=\"main py-4\">\n        <div className=\"container\">\n          <section className=\"align-items-center justify-content-between d-flex mb-4 tower-info\">\n            <div className=\"d-flex align-items-center\">\n              <div\n                className=\"tower-avatar\"\n                style={{ backgroundImage: 'url(/images/sand-castle.png)' }}\n              />\n              <div className=\"d-flex flex-column ml-2\">\n                <div className=\"health-bar\">\n                  <div style={{ backgroundColor: '#FF3636', width: `${this.currentHealth()}%` }} />\n                </div>\n                <div className=\"username\">Username 1</div>\n              </div>\n            </div>\n            <img\n              className=\"buy\"\n              src=\"/images/shopping-cart.svg\"\n              onClick={() => this.setState({ showShopModal: true })}\n              alt=\"buy\"\n            />\n          </section>\n          <div className=\"title\">My tower</div>\n          <div className=\"d-flex align-items-center\">\n            <div className=\"item-list\">\n              {this.renderObstacleList(selectedObstacles, i => this.removeObstacle(i))}\n            </div>\n            <div className=\"d-flex flex-fill justify-content-center align-items-center\">\n              <button className=\"my-button ml-3\" onClick={this.saveObstacles}>\n                Save\n              </button>\n            </div>\n          </div>\n          <div className=\"tower\">\n            <div className=\"title\">Obstacle queue</div>\n            <div className=\"item-list\">\n              {this.renderObstacleList(freeObstacles, i => this.selectObstacle(i))}\n            </div>\n          </div>\n          <div className=\"title\">My soldies</div>\n          <div className=\"d-flex align-items-center\">\n            <div className=\"item-list\">{this.renderSoldierList(userStore.soldiers)}</div>\n            <div className=\"d-flex flex-fill justify-content-center\">\n              <button\n                className=\"my-button ml-3\"\n                onClick={() => this.setState({ showAttackModal: true })}\n              >\n                Attack\n              </button>\n            </div>\n          </div>\n        </div>\n        <Modal open={showAttackModal} onClose={this.onAttackModalClosed} center>\n          <h3>Setup for your army</h3>\n          <div className=\"item-list\">\n            {this.renderSoldierList(freeSoldiers, i => this.selectSoldier(i), true)}\n          </div>\n          <div className=\"item-list mt-3\">\n            {this.renderSoldierList(\n              selectedSoldiers,\n              i => this.removeSoldier(i),\n              false,\n              false,\n              true\n            )}\n          </div>\n          <div>\n            <input type=\"text\" className=\"my-input\" placeholder=\"Target address\" />\n          </div>\n          <div className=\"d-flex justify-content-center mt-2\">\n            <button className=\"my-button\" onClick={this.attack}>\n              Start attack\n            </button>\n          </div>\n        </Modal>\n        <Modal\n          open={showShopModal}\n          onClose={this.onShopModalClosed}\n          classNames={{ modal: 'shop-modal' }}\n        >\n          <h3>Shop</h3>\n          <div className=\"item-list\">\n            {SHOP_ITEMS.soldiers.map(s => (\n              <div key={s.id} className=\"shop-item\">\n                <Soldier type={s.type} showNumber={false} animate={false} />\n                <div className=\"price\">{s.price} ETH</div>\n              </div>\n            ))}\n            {SHOP_ITEMS.obstacles.map(o => (\n              <div key={o.id} className=\"shop-item\">\n                <div className={`obstacle ${o.type}`} onClick={() => {}} key={keyGen()} />\n                <div className=\"price\">{o.price} ETH</div>\n              </div>\n            ))}\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nMain.propTypes = {\n  userStore: PropTypes.instanceOf(PropTypes.object),\n  notificationStore: PropTypes.instanceOf(PropTypes.object),\n};\n\nexport default Main;\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import React from 'react';\nimport {\n  Router, Route, Switch, Redirect,\n} from 'react-router-dom';\nimport { Main, LoadingScreen } from './components/pages';\nimport history from './utils/history';\n\nconst CONDITION = true;\n\nclass MyRouter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      progress: 0,\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.initProgress(), 1000);\n  }\n\n  finishProgress = () => {\n    const { progress } = this.state;\n    if (progress >= 0.9) {\n      return;\n    }\n    this.setState({ progress: progress + 0.1 });\n    setTimeout(this.finishProgress, 100);\n  };\n\n  checkStatus = () => {\n    if (CONDITION) {\n      return this.finishProgress();\n    }\n    setTimeout(this.checkStatus, 100);\n  };\n\n  initProgress = () => {\n    const { progress } = this.state;\n    if (progress >= 0.5) {\n      this.checkStatus();\n      return;\n    }\n    this.setState({ progress: progress + 0.1 });\n    setTimeout(this.initProgress, 100);\n  };\n\n  render() {\n    const { progress } = this.state;\n    return progress >= 0.9 ? (\n      <Router history={history}>\n        <Switch>\n          <Route path=\"/main\" component={Main} />\n          <Route path=\"/\" exact={true} render={() => <Redirect to=\"/main\" />} />\n        </Switch>\n      </Router>\n    ) : (\n      <LoadingScreen progress={progress} />\n    );\n  }\n}\n\nexport default MyRouter;\n","import userStore from './users';\nimport notificationStore from './notification';\n\nexport default { userStore, notificationStore };\n","import { observable, action, computed } from 'mobx';\n\nclass UserStore {\n  @observable\n  id = null;\n\n  @observable\n  username = 'Username 1';\n\n  @observable\n  address = null;\n\n  @observable\n  obstacles = ['fire', 'metal', 'wood', 'water', 'earth'];\n\n  @observable\n  soldiers = [\n    {\n      id: 1,\n      type: 'earth',\n      quantity: 4,\n    },\n    {\n      id: 2,\n      type: 'wood',\n      quantity: 4,\n    },\n    {\n      id: 3,\n      type: 'water',\n      quantity: 2,\n    },\n    {\n      id: 4,\n      type: 'fire',\n      quantity: 4,\n    },\n    {\n      id: 5,\n      type: 'metal',\n      quantity: 1,\n    }\n  ];\n\n  @computed\n  get obstacleCount() {\n    return this.obstacles.length;\n  }\n\n  @action.bound\n  setData(id, username, address, obstacles) {\n    if (id) {\n      this.id = id;\n    }\n    if (username) {\n      this.username = username;\n    }\n    if (address) {\n      this.address = address;\n    }\n    if (obstacles) {\n      this.obstacles = obstacles;\n    }\n  }\n}\n\nexport default new UserStore();\n","import { observable, action } from 'mobx';\n\nclass Notification {\n  @observable\n  notifications = [];\n\n  @action.bound\n  push(_notification) {\n    this.notifications.push(_notification);\n    setTimeout(() => this.remove(_notification.id), 4000);\n  }\n\n  @action.bound\n  remove(id) {\n    this.notifications = this.notifications.filter(n => n.id !== id);\n  }\n}\n\nexport default new Notification();\n","import React from 'react';\nimport { configure } from 'mobx';\nimport { Provider } from 'mobx-react';\nimport { Notification } from './components/shared-components';\nimport Router from './router';\nimport stores from './stores';\n\nconfigure({ enforceActions: 'observed' });\n\nconst App = () => (\n  <Provider {...stores}>\n    <React.Fragment>\n      <Router />\n      <Notification />\n    </React.Fragment>\n  </Provider>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst root = document.getElementById('root');\n\nReactDOM.render(<App />, root);\n\nif (module.hot) {\n  module.hot.accept('./App', () => {\n    const NextApp = require('./App').default;\n    ReactDOM.render(<NextApp />, root);\n  });\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}